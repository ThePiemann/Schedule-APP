import{o as ge,b as he}from"./auth-cbFyKSDW.js";import{setCurrentUser as fe,loadUserData as pe,userData as F,saveUserData as le}from"./store-B-09Ib52.js";let E,H,N,w,_=!1,A="pen",j="#000000",q=3,M=[],D=[],C=[],X=[],S=-1;const O=1440*60*1e3;document.addEventListener("DOMContentLoaded",()=>{ge(he,e=>{e?(fe(e),pe(()=>{ye(e)})):window.location.href="/pages/login/"}),Ie()});function ye(e){ke(e),ve(),be(),Be(),window.addEventListener("resize",()=>{const o=E.toDataURL();Q(),de(o)})}function ve(){document.getElementById("canvasContainer"),E=document.getElementById("whiteboardCanvas"),H=E.getContext("2d",{willReadFrequently:!0}),N=document.getElementById("tempCanvas"),w=N.getContext("2d"),Q(),L(),E.addEventListener("mousedown",Ee),window.addEventListener("mousemove",te),window.addEventListener("mouseup",oe),E.addEventListener("touchstart",e=>{e.target===E&&e.preventDefault();const o=e.touches[0],t=new MouseEvent("mousedown",{clientX:o.clientX,clientY:o.clientY});E.dispatchEvent(t)},{passive:!1}),window.addEventListener("touchmove",e=>{if(!_)return;const o=e.touches[0],t=new MouseEvent("mousemove",{clientX:o.clientX,clientY:o.clientY});te(t)},{passive:!1}),window.addEventListener("touchend",e=>{new MouseEvent("mouseup",{}),oe()})}function Q(){const e=document.getElementById("canvasContainer");E.width=e.clientWidth,E.height=e.clientHeight,N.width=e.clientWidth,N.height=e.clientHeight,[H,w].forEach(o=>{o.lineCap="round",o.lineJoin="round"})}function L(){S<X.length-1&&(X=X.slice(0,S+1)),X.push({dataUrl:E.toDataURL(),notes:JSON.parse(JSON.stringify(D)),images:JSON.parse(JSON.stringify(C))}),S++,V()}function we(){S>0&&(S--,ae(X[S]),V(),B())}function xe(){S<X.length-1&&(S++,ae(X[S]),V(),B())}function ae(e){if(!e)return;const o=new Image;o.onload=()=>{H.clearRect(0,0,E.width,E.height),H.drawImage(o,0,0)},o.src=e.dataUrl;const t=document.getElementById("notesContainer");t.innerHTML="",D=JSON.parse(JSON.stringify(e.notes||[])),D.forEach(n=>ee(n)),C=JSON.parse(JSON.stringify(e.images||[])),C.forEach(n=>Z(n))}function V(){[{undo:"toolUndo",redo:"toolRedo"},{undo:"toolUndoMobile",redo:"toolRedoMobile"}].forEach(o=>{const t=document.getElementById(o.undo),n=document.getElementById(o.redo);t&&(t.disabled=S<=0,t.style.opacity=t.disabled?"0.3":"1"),n&&(n.disabled=S>=X.length-1,n.style.opacity=n.disabled?"0.3":"1")})}function Ee(e){if(e.target!==E)return;_=!0;const[o,t]=ce(e);M=[[o,t]],document.getElementById("whiteboardPlaceholder").style.opacity="0",re()}function te(e){if(!_)return;const[o,t]=ce(e);M.push([o,t]),re()}function re(){if(w.clearRect(0,0,N.width,N.height),M.length<2)return;w.beginPath(),w.moveTo(M[0][0],M[0][1]);for(let o=1;o<M.length-1;o++){const t=M[o],n=M[o+1],l=[(t[0]+n[0])/2,(t[1]+n[1])/2];w.quadraticCurveTo(t[0],t[1],l[0],l[1])}const e=M[M.length-1];w.lineTo(e[0],e[1]),A==="eraser"?(w.globalAlpha=1,w.strokeStyle=document.documentElement.classList.contains("dark")?"#1C1C1E":"#FFFFFF",w.lineWidth=q*5):(w.strokeStyle=j,A==="highlighter"?(w.globalAlpha=.4,w.lineWidth=q*3,w.lineCap="round"):(w.globalAlpha=1,w.lineWidth=q,w.lineCap="round")),w.stroke()}function oe(){_&&(_=!1,M.length>0&&(H.drawImage(N,0,0),L()),w.clearRect(0,0,N.width,N.height),M=[],B())}function ce(e){const o=E.getBoundingClientRect();return[e.clientX-o.left,e.clientY-o.top]}function be(){const e=r=>document.getElementById(r),o=(r,d,h,P)=>{const U=e(r),x=e(d);U&&U.addEventListener(h,P),x&&x.addEventListener(h,P)},t=["Pen","Highlighter","Eraser"];function n(r){A=r.toLowerCase(),t.forEach(d=>{const h=d.toLowerCase()===A,P=e(`tool${d}`),U=e(`tool${d}Mobile`);[P,U].forEach(x=>{x&&(h?(x.classList.add("active","bg-primary/10","text-primary"),x.classList.remove("text-gray-600","dark:text-gray-300")):(x.classList.remove("active","bg-primary/10","text-primary"),x.classList.add("text-gray-600","dark:text-gray-300")))})})}o("toolPen","toolPenMobile","click",()=>n("Pen")),o("toolHighlighter","toolHighlighterMobile","click",()=>n("Highlighter")),o("toolEraser","toolEraserMobile","click",()=>n("Eraser")),o("toolUndo","toolUndoMobile","click",we),o("toolRedo","toolRedoMobile","click",xe),o("addStickyBtn","addStickyBtnMobile","click",()=>{const r={id:Date.now(),x:100+D.length*20,y:150+D.length*20,text:"",color:"#FEF3C7"};D.push(r),ee(r),B(),L()});const a=e("imageUploadInput"),c=()=>a.click();a&&a.addEventListener("change",Le),o("addImageBtn","addImageBtnMobile","click",c),o("colorPicker","colorPickerMobile","input",r=>{j=r.target.value,["colorPreview","colorPreviewMobile"].forEach(d=>{const h=e(d);h&&(h.style.backgroundColor=j)}),A==="eraser"&&n("Pen")}),["colorPreview","colorPreviewMobile"].forEach(r=>{const d=e(r);d&&(d.style.backgroundColor=j)}),o("lineWidth","lineWidthMobile","input",r=>{q=r.target.value;const d=r.target.id==="lineWidth"?"lineWidthMobile":"lineWidth",h=e(d);h&&(h.value=q)});const p=e("clearModal");o("clearBoardBtn","clearBoardBtnMobile","click",()=>{p.classList.remove("hidden"),p.classList.add("flex")}),e("cancelClearBtn").addEventListener("click",()=>{p.classList.add("hidden"),p.classList.remove("flex")}),e("confirmClearBtn").addEventListener("click",()=>{H.clearRect(0,0,E.width,E.height),document.getElementById("notesContainer").innerHTML="",D=[],C=[],X=[],S=-1,L(),localStorage.removeItem("studentDash_whiteboard"),B(!0),document.getElementById("whiteboardPlaceholder").style.opacity="0.5",p.classList.add("hidden"),p.classList.remove("flex")});const s=e("mobileExportModal"),f=e("mobileExportSheet"),y=e("mobileExportBackdrop"),i=r=>{s&&(r?(s.classList.remove("hidden"),s.classList.add("flex"),setTimeout(()=>{y.classList.remove("opacity-0"),f.classList.remove("translate-y-full")},10)):(y.classList.add("opacity-0"),f.classList.add("translate-y-full"),setTimeout(()=>{s.classList.add("hidden"),s.classList.remove("flex")},300)))};e("mobileExportCancelBtn")&&e("mobileExportCancelBtn").addEventListener("click",()=>i(!1)),y&&y.addEventListener("click",()=>i(!1)),e("mobileExportImageBtn")&&e("mobileExportImageBtn").addEventListener("click",()=>{ne(),i(!1)}),e("mobileExportPdfBtn")&&e("mobileExportPdfBtn").addEventListener("click",()=>{ie(),i(!1)});const b=r=>d=>{if(d.stopPropagation(),r)i(!0);else{const h=e("exportDropdown");h&&(h.classList.toggle("hidden"),h.classList.toggle("flex"))}};e("exportDropdownBtn")&&e("exportDropdownBtn").addEventListener("click",b(!1)),e("exportDropdownBtnMobile")&&e("exportDropdownBtnMobile").addEventListener("click",b(!0)),document.addEventListener("click",r=>{const d=e("exportDropdown"),h=e("exportDropdownBtn");d&&!d.classList.contains("hidden")&&!d.contains(r.target)&&(!h||!h.contains(r.target))&&(d.classList.add("hidden"),d.classList.remove("flex"))}),e("downloadImageBtn")&&e("downloadImageBtn").addEventListener("click",ne),e("downloadPdfBtn")&&e("downloadPdfBtn").addEventListener("click",ie);const k=e("mobileMenuBtn"),R=e("whiteboardToolbarMobile");k&&R&&k.addEventListener("click",()=>{R.classList.contains("hidden")?(R.classList.remove("hidden"),R.classList.add("flex"),k.querySelector("span").innerText="close",k.classList.add("bg-gray-800","text-white"),k.classList.remove("bg-primary")):(R.classList.add("hidden"),R.classList.remove("flex"),k.querySelector("span").innerText="edit",k.classList.remove("bg-gray-800","text-white"),k.classList.add("bg-primary"))}),o("toggleFullscreenBtn","toggleFullscreenBtnMobile","click",()=>{const r=document.querySelector("header");if(!r)return;const d=r.classList.toggle("hidden"),h=d?"close_fullscreen":"fullscreen",P=d?"Exit Fullscreen":"Enter Fullscreen";["toggleFullscreenBtn","toggleFullscreenBtnMobile"].forEach(U=>{const x=e(U);if(x){const J=x.querySelector("span");J&&(J.innerText=h),x.title=P,d?(x.classList.add("bg-primary/10","text-primary"),x.classList.remove("text-gray-600","dark:text-gray-300")):(x.classList.remove("bg-primary/10","text-primary"),x.classList.add("text-gray-600","dark:text-gray-300"))}}),setTimeout(Q,50)});const g=e("whiteboardToolbarDesktop"),W=e("minimizeToolbarBtn");if(g){W&&W.addEventListener("click",v=>{v.stopPropagation();const Y=g.querySelectorAll("div"),$=W.querySelector("span");let T=!1;Y.forEach(z=>{T=z.classList.toggle("hidden")}),T?($.innerText="open_in_full",W.classList.remove("border-r","mr-1"),g.classList.add("px-1")):($.innerText="remove",W.classList.add("border-r","mr-1"),g.classList.remove("px-1"))});let r=!1,d=0,h=0;const P=10,U=v=>{if(v.target.tagName==="BUTTON"||v.target.tagName==="INPUT"||v.target.closest("button"))return;r=!0;const Y=v.touches?v.touches[0].clientX:v.clientX,$=v.touches?v.touches[0].clientY:v.clientY,T=g.getBoundingClientRect(),z=g.offsetParent.getBoundingClientRect();d=Y-T.left,h=$-T.top,g.style.transform="none",g.style.left=`${T.left-z.left}px`,g.style.top=`${T.top-z.top}px`,g.style.cursor="grabbing"},x=v=>{if(!r)return;v.preventDefault();const Y=v.touches?v.touches[0].clientX:v.clientX,$=v.touches?v.touches[0].clientY:v.clientY,T=g.offsetParent.getBoundingClientRect();let z=Y-d-T.left,K=$-h-T.top;const ue=g.offsetParent.clientWidth-g.offsetWidth-P,me=g.offsetParent.clientHeight-g.offsetHeight-P;z=Math.max(P,Math.min(z,ue)),K=Math.max(P,Math.min(K,me)),g.style.left=`${z}px`,g.style.top=`${K}px`},J=()=>{r=!1,g.style.cursor="move"};g.addEventListener("mousedown",U),document.addEventListener("mousemove",x),document.addEventListener("mouseup",J)}}function Le(e){const o=e.target.files[0];if(!o)return;const t=new FileReader;t.onload=n=>{const l={id:Date.now(),x:100+C.length*20,y:150+C.length*20,src:n.target.result,width:200,height:"auto"},a=new Image;a.onload=()=>{const c=a.height/a.width;l.height=200*c,C.push(l),Z(l),B(),L()},a.src=n.target.result},t.readAsDataURL(o),e.target.value=""}function Z(e){const o=document.getElementById("notesContainer"),t=document.createElement("div");t.className="absolute pointer-events-auto shadow-2xl rounded-xl flex flex-col group animate-pop-in border-2 border-transparent hover:border-primary/50 transition-colors",t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,t.style.width=`${e.width}px`,t.dataset.id=e.id,t.innerHTML=`
        <div class="absolute -top-3 -right-3 w-7 h-7 bg-white rounded-full shadow-md flex items-center justify-center cursor-pointer hover:bg-red-50 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity z-20 delete-img" title="Delete">
            <span class="material-symbols-outlined text-sm">close</span>
        </div>
        <img src="${e.src}" class="w-full h-auto rounded-lg pointer-events-none select-none" draggable="false">
        
        <!-- Resize Handle -->
        <div class="resize-handle absolute bottom-0 right-0 w-6 h-6 bg-white/80 backdrop-blur-sm rounded-tl-lg rounded-br-lg cursor-nwse-resize z-20 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity hover:bg-primary hover:text-white shadow-sm">
            <span class="material-symbols-outlined text-xs">open_in_full</span>
        </div>
    `;const n=t.querySelector(".resize-handle");let l=!1,a=0,c=0;const u=i=>{i.stopPropagation(),l=!0,c=i.clientX||i.touches[0].clientX,a=t.offsetWidth,t.style.zIndex=100};n.addEventListener("mousedown",u),n.addEventListener("touchstart",u);const m=i=>{if(!l)return;const k=(i.clientX||(i.touches?i.touches[0].clientX:0))-c;let R=Math.max(100,a+k);t.style.width=`${R}px`,e.width=R},p=()=>{l&&(l=!1,t.style.zIndex=20,B(),L())};window.addEventListener("mousemove",m),window.addEventListener("touchmove",m),window.addEventListener("mouseup",p),window.addEventListener("touchend",p);let I=!1,s=[0,0];t.addEventListener("mousedown",i=>{if(i.target.closest(".delete-img")||i.target.closest(".resize-handle"))return;I=!0;const b=t.getBoundingClientRect();s=[i.clientX-b.left,i.clientY-b.top],t.style.zIndex=100,t.classList.add("scale-[1.01]","ring-2","ring-primary")}),t.addEventListener("touchstart",i=>{if(i.target.closest(".delete-img")||i.target.closest(".resize-handle"))return;I=!0;const b=t.getBoundingClientRect();s=[i.touches[0].clientX-b.left,i.touches[0].clientY-b.top],t.style.zIndex=100,t.classList.add("scale-[1.01]","ring-2","ring-primary")});const f=i=>{if(!I)return;const b=o.getBoundingClientRect(),k=i.clientX||(i.touches?i.touches[0].clientX:0),R=i.clientY||(i.touches?i.touches[0].clientY:0);let G=k-b.left-s[0],g=R-b.top-s[1];t.style.left=`${G}px`,t.style.top=`${g}px`,e.x=G,e.y=g},y=()=>{I&&(I=!1,t.style.zIndex=20,t.classList.remove("scale-[1.01]","ring-2","ring-primary"),B(),L())};window.addEventListener("mousemove",f),window.addEventListener("touchmove",f),window.addEventListener("mouseup",y),window.addEventListener("touchend",y),t.querySelector(".delete-img").addEventListener("click",i=>{i.stopPropagation(),t.classList.add("opacity-0","scale-90"),setTimeout(()=>{t.remove(),C=C.filter(b=>b.id!==e.id),B(),L()},200)}),o.appendChild(t)}function ee(e){const o=document.getElementById("notesContainer"),t=document.createElement("div");t.className="absolute pointer-events-auto w-56 min-h-[14rem] p-5 shadow-2xl rounded-xl flex flex-col group animate-pop-in border border-black/5 transition-colors duration-300",t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,t.style.backgroundColor=e.color,t.dataset.id=e.id;const l=[{hex:"#FEF3C7",title:"Yellow"},{hex:"#DCFCE7",title:"Green"},{hex:"#DBEAFE",title:"Blue"},{hex:"#FEE2E2",title:"Red"},{hex:"#F3E8FF",title:"Purple"}].map(s=>`<div class="w-5 h-5 rounded-full border border-black/10 cursor-pointer color-note hover:scale-110 transition-transform shadow-sm" style="background-color: ${s.hex}" data-color="${s.hex}" title="${s.title}"></div>`).join("");t.innerHTML=`
        <div class="note-handle cursor-move w-full mb-3 flex justify-between items-center opacity-0 group-hover:opacity-100 transition-opacity duration-200">
            <div class="flex gap-1.5 bg-white/30 backdrop-blur-sm p-1 rounded-full shadow-sm">
                ${l}
            </div>
            <button class="delete-note w-6 h-6 flex items-center justify-center rounded-full hover:bg-black/10 text-gray-500 hover:text-red-500 transition-colors" title="Delete Note">
                <span class="material-symbols-outlined text-base">close</span>
            </button>
        </div>
        <div class="note-content flex-1 text-base font-medium text-gray-800 dark:text-gray-900 outline-none overflow-hidden break-words leading-relaxed selection:bg-black/10" contenteditable="true" placeholder="Type a note...">
            ${e.text||""}
        </div>
        <div class="absolute bottom-2 right-2 opacity-0 group-hover:opacity-30 pointer-events-none">
            <span class="material-symbols-outlined text-black text-sm">drag_handle</span>
        </div>
    `;const a=t.querySelector(".note-handle");let c=!1,u=[0,0];a.addEventListener("mousedown",s=>{if(s.target.closest(".delete-note")||s.target.closest(".color-note"))return;c=!0;const f=t.getBoundingClientRect();u=[s.clientX-f.left,s.clientY-f.top],t.style.zIndex=100,t.classList.add("scale-[1.02]","shadow-2xl")}),a.addEventListener("touchstart",s=>{if(s.target.closest(".delete-note")||s.target.closest(".color-note"))return;c=!0;const f=t.getBoundingClientRect();u=[s.touches[0].clientX-f.left,s.touches[0].clientY-f.top],t.style.zIndex=100,t.classList.add("scale-[1.02]","shadow-2xl")}),window.addEventListener("mousemove",s=>{if(!c)return;const f=o.getBoundingClientRect();let y=s.clientX-f.left-u[0],i=s.clientY-f.top-u[1];y=Math.max(0,Math.min(y,o.clientWidth-t.offsetWidth)),i=Math.max(0,Math.min(i,o.clientHeight-t.offsetHeight)),t.style.left=`${y}px`,t.style.top=`${i}px`,e.x=y,e.y=i}),window.addEventListener("touchmove",s=>{if(!c)return;const f=o.getBoundingClientRect();let y=s.touches[0].clientX-f.left-u[0],i=s.touches[0].clientY-f.top-u[1];y=Math.max(0,Math.min(y,o.clientWidth-t.offsetWidth)),i=Math.max(0,Math.min(i,o.clientHeight-t.offsetHeight)),t.style.left=`${y}px`,t.style.top=`${i}px`,e.x=y,e.y=i});function m(){c&&(c=!1,t.style.zIndex=20,t.classList.remove("scale-[1.02]","shadow-2xl"),B(),L())}window.addEventListener("mouseup",m),window.addEventListener("touchend",m);const p=t.querySelector(".note-content");p.addEventListener("focus",()=>{});let I=e.text;p.addEventListener("focus",()=>{I=p.innerHTML}),p.addEventListener("input",()=>{e.text=p.innerHTML,clearTimeout(p.timeout),p.timeout=setTimeout(()=>{B(),I!==e.text&&L()},1e3)}),t.querySelector(".delete-note").addEventListener("click",s=>{s.stopPropagation(),t.classList.add("opacity-0","scale-90"),setTimeout(()=>{t.remove(),D=D.filter(f=>f.id!==e.id),B(),L()},200)}),t.querySelectorAll(".color-note").forEach(s=>{s.addEventListener("click",f=>{f.stopPropagation();const y=s.dataset.color;t.style.backgroundColor=y,e.color=y,B(),L()})}),o.appendChild(t)}function ne(){const e=document.getElementById("canvasContainer");html2canvas(e,{backgroundColor:document.documentElement.classList.contains("dark")?"#1C1C1E":"#FFFFFF",scale:2,useCORS:!0,width:e.offsetWidth,height:e.offsetHeight,scrollX:0,scrollY:0}).then(o=>{const t=document.createElement("a");t.download=`whiteboard-${new Date().toISOString().slice(0,10)}.png`,t.href=o.toDataURL("image/png"),t.click()})}function ie(){const{jsPDF:e}=window.jspdf,o=document.getElementById("canvasContainer");html2canvas(o,{backgroundColor:"#FFFFFF",scale:2,useCORS:!0,width:o.offsetWidth,height:o.offsetHeight,scrollX:0,scrollY:0}).then(t=>{const n=t.toDataURL("image/png"),l=new e("l","mm","a4"),a=l.internal.pageSize.getWidth(),c=l.internal.pageSize.getHeight(),u=a/t.width,m=c/t.height,p=Math.min(u,m),I=t.width*p,s=t.height*p;l.addImage(n,"PNG",(a-I)/2,(c-s)/2,I,s),l.save(`whiteboard-${new Date().toISOString().slice(0,10)}.pdf`)})}function Be(){const e=Date.now();let o=null;const t=localStorage.getItem("studentDash_whiteboard");if(t)try{const n=JSON.parse(t);e-n.timestamp<O?o=n:localStorage.removeItem("studentDash_whiteboard")}catch{}if(!o&&F.whiteboard&&F.whiteboard.timestamp&&(e-F.whiteboard.timestamp<O?o=F.whiteboard:(F.whiteboard=null,le())),o){o.dataUrl&&(de(o.dataUrl),document.getElementById("whiteboardPlaceholder").style.opacity="0"),o.notes&&(D=o.notes,D.forEach(l=>ee(l))),o.images&&(C=o.images,C.forEach(l=>Z(l))),F.whiteboard||(F.whiteboard=o);const n=o.timestamp;se(O-(e-n)),setInterval(()=>{const l=O-(Date.now()-n);l<=0?(localStorage.removeItem("studentDash_whiteboard"),window.location.reload()):se(l)},6e4)}}function se(e){const o=document.getElementById("expirationText");if(!o)return;if(e<=0){o.innerText="Expired";return}const t=Math.floor(e/(1e3*60*60)),n=Math.floor(e%(1e3*60*60)/(1e3*60));o.innerText=`${t}h ${n}m Left`}function de(e){const o=new Image;o.onload=()=>{H.drawImage(o,0,0),X.length===0&&L()},o.src=e}function B(e=!1){const o=Date.now();let t=e?null:E.toDataURL(),n=e?[]:D,l=e?[]:C,a=F.whiteboard?.timestamp;if(!a){const u=localStorage.getItem("studentDash_whiteboard");if(u)try{a=JSON.parse(u).timestamp}catch{}}(!a||o-a>O||e)&&(a=o);const c={dataUrl:t,notes:n,images:l,timestamp:a};e?localStorage.removeItem("studentDash_whiteboard"):localStorage.setItem("studentDash_whiteboard",JSON.stringify(c)),F.whiteboard=e?null:c,le()}function Ie(){const e=document.getElementById("hamburgerBtn"),o=document.getElementById("appSidebar"),t=document.getElementById("sidebarOverlay"),n=document.getElementById("closeSidebarBtn");function l(m){!o||!t||(m?(o.classList.remove("-translate-x-full"),t.classList.remove("hidden"),setTimeout(()=>t.classList.remove("opacity-0"),10)):(o.classList.add("-translate-x-full"),t.classList.add("opacity-0"),setTimeout(()=>t.classList.add("hidden"),300)))}e&&e.addEventListener("click",m=>{m.stopPropagation(),l(!0)}),n&&n.addEventListener("click",()=>l(!1)),t&&t.addEventListener("click",()=>l(!1));const a=document.getElementById("profileDropdownBtn"),c=document.getElementById("profileDropdownMenu"),u=document.getElementById("closeDropdownBtn");a&&c&&(a.addEventListener("click",m=>{m.stopPropagation(),c.classList.toggle("hidden")}),document.addEventListener("click",m=>{!a.contains(m.target)&&!c.contains(m.target)&&c.classList.add("hidden")})),u&&c&&u.addEventListener("click",()=>c.classList.add("hidden"))}function ke(e){const o=document.getElementById("menuUserName"),t=document.getElementById("menuUserEmail"),n=document.getElementById("navProfileImg"),l=document.getElementById("navProfileIcon"),a=document.getElementById("menuProfileImg"),c=document.getElementById("menuProfileIcon");t&&(t.innerText=e.email);const u=F.settings||{};o&&(o.innerText=u.userFirstName?u.userFirstName:e.displayName?e.displayName.split(" ")[0]:"Student");const m=u.userProfileImage;m&&(n&&(n.src=m,n.classList.remove("hidden")),l&&l.classList.add("hidden"),a&&(a.src=m,a.classList.remove("hidden")),c&&c.classList.add("hidden"))}
